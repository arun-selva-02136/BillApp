<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill</title>
    <link rel="stylesheet" href="{% static 'css/product/bill_manage.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/4723418bde.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container-xxl">
        <!-- Billing Header Part -->
        <header>
            <div class="row pt-2">
                <div class="col-sm-3">
                    <div class="col-12  d-flex flex-column align-items-left justify-content-center">
                        <h5>Address :</h5>
                        <h6>Vadakumadevi Perambalur , <br> Pincode -606 110. <br> Ph : 1234567890</h6>
                    </div>
                </div>
                <div class="col-sm-5  d-flex align-items-center justify-content-center">
                    <img src="{% static 'images/Cloug_logo.png' %}" alt="">
                </div>
                <div class="col-sm-4 mt-1" style="padding-left: 6rem;">
                    <div class="col-12  d-flex flex-column align-items-left justify-content-center">
                        <div class="col d-flex text-left">
                            <h6>Bill No : <input type="text" placeholder="SM001"
                                    style="border:none;outline: none;"></h6>
                        </div>
                        <div class="col d-flex text-left">
                            <h6>Date Time : <input type="datetime-local"
                                    style="border:none;outline: none;"></h6>
                        </div>
                        <div class="col d-flex text-left">
                            <h6>GST No : <input type="number" placeholder="0001"
                                    style="border:none;outline: none;"></h6>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Billing Header Part -->
        <hr>
        <!-- Customer Details -->
        <div class="row">
            <div class="col-sm-9 customer-info d-flex flex-column align-items-left justify-content-center">
                <div class="col mb-2">
                    <label for="CustomerName">Customer Name <span>:</span> </label>
                    <input type="text" name="" id="CustomerName">
                </div>
                <div class="col mb-2">
                    <label for="CustomerName">Customer Phone No <span>:</span></label>
                    <input type="number" name="" id="CustomerName">
                </div>
            </div>
            <div class="col-sm-3 d-flex align-items-center justify-content-center">
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    <i class="fa-solid fa-user-plus me-1" style="color: white;"></i>Add Customer
                </button>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Add Customer</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body d-flex flex-column">
                                <form class="row g-3 needs-validation" novalidate>
                                    <div class="col-md-12">
                                      <label for="validationCustomUsername" class="form-label">Username</label>
                                      <div class="input-group has-validation">
                                        <span class="input-group-text" id="inputGroupPrepend">@</span>
                                        <input type="text" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" required>
                                        <div class="invalid-feedback">
                                          Please choose a username.
                                        </div>
                                      </div>
                                    </div>
                                    <div class="col-md-12">
                                      <label for="validationCustom03" class="form-label">Phone No</label>
                                      <input type="number" class="form-control" id="validationCustom03" required>
                                      <div class="invalid-feedback">
                                        Please provide a valid Number.
                                      </div>
                                    </div>
                                    <div class="col-12">
                                      <button class="col-sm-12 btn btn-success" type="submit">Save</button>
                                      <p style="font-size: 10px; text-align: center; margin: 10px auto;">Save Your Customer Deatils</p>
                                    </div>
                                  </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <button type="button" class="btn btn-primary" style="height: 3rem;"></button> -->
            </div>
        </div>
        <!-- Customer Details -->
        <!-- Products Details Table-->
        <div class="col-sm-12 table-responsive" id="table-container">
            <table id="product-table">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>Product Name</th>
                        <th>HNS Code</th>
                        <th>Qty</th>
                        <th>SGST No</th>
                        <th>CGST No</th>
                        <th>Amount</th>
                        <th>Discount Amount</th>
                        <th>Net Amount</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- Static rows for entering product details -->
                    <tr class="product-row">
                        <td><span class="sno">1</span></td>
                        <td><input type="text" class="product-name-input" placeholder="Product Name"></td>
                        <td><input type="text" placeholder="HNS Code" class="HSN" readonly></td>
                        <td><input type="number" placeholder="Qty" class="qty-input" oninput="calculateRow(this)"></td>
                        <td><input type="text" class="sgst-no-input" placeholder="SGST No" readonly></td>
                        <td><input type="text" placeholder="CGST No" class="CGST" readonly></td>
                        <td><input type="number" placeholder="Amount" class="amount-input" oninput="calculateRow(this)" readonly></td>
                        <td><input type="text" placeholder="Discount Amount"  class="discount-amount-input" readonly oninput="calculateRow(this)"></td>
                        <td><span class="net-amount">0.00</span></td>
                    </tr>
                    <!-- Popup screen -->
                    <div id="productList"></div>
                    <!-- Popup screen -->
                    <tr class="product-row">
                        <td><span class="sno">2</span></td>
                        <td><input type="text" class="product-name-input" placeholder="Product Name"></td>
                        <td><input type="text" placeholder="HNS Code" class="HSN" readonly></td>
                        <td><input type="number" placeholder="Qty" class="qty-input" oninput="calculateRow(this)"></td>
                        <td><input type="text" class="sgst-no-input" placeholder="SGST No" readonly></td>
                        <td><input type="text" placeholder="CGST No" class="CGST" readonly></td>
                        <td><input type="number" placeholder="Amount" class="amount-input" readonly oninput="calculateRow(this)"></td>
                        <td><input type="text" placeholder="Discount Amount" readonly   class="discount-amount-input" oninput="calculateRow(this)"></td>
                        <td><span class="net-amount">0.00</span></td>
                    </tr>
                    <tr class="product-row">
                        <td><span class="sno">3</span></td>
                        <td><input type="text" class="product-name-input" placeholder="Product Name"></td>
                        <td><input type="text" placeholder="HNS Code" class="HSN" id="hns-code-total" readonly></td>
                        <td><input type="number" placeholder="Qty" class="qty-input" oninput="calculateRow(this)"></td>
                        <td><input type="text" id="sgst-no-total" class="sgst-no-input" placeholder="SGST No readonly"></td>
                        <td><input type="text" placeholder="CGST No" id="cgst-no-total" class="CGST" readonly></td>
                        <td><input type="number" placeholder="Amount" class="amount-input" readonly oninput="calculateRow(this)"></td>
                        <td><input type="text" placeholder="Discount Amount" readonly    class="discount-amount-input" oninput="calculateRow(this)"></td>
                        <td><span class="net-amount">0.00</span></td>
                    </tr>
                    <tr class="product-row">
                        <td><span class="sno">4</span></td>
                        <td><input type="text" class="product-name-input" placeholder="Product Name"></td>
                        <td><input type="text" placeholder="HNS Code" class="HSN" readonly></td>
                        <td><input type="number" placeholder="Qty" class="qty-input" oninput="calculateRow(this)"></td>
                        <td><input type="text" class="sgst-no-input" placeholder="SGST No" readonly></td>
                        <td><input type="text" placeholder="CGST No" class="CGST" readonly></td>
                        <td><input type="number" placeholder="Amount" readonly class="amount-input" oninput="calculateRow(this)"></td>
                        <td><input type="text" placeholder="Discount Amount"  readonly   class="discount-amount-input" oninput="calculateRow(this)"></td>
                        <td><span class="net-amount">0.00</span></td>
                    </tr>
                    <!-- Popup screen -->
                    <div id="productNamePopup" class="popup">
                        <ul id="productNameList"></ul>
                    </div>
                <!-- Popup screen -->
                </tbody>
                <tfoot>
                    <tr>
                        <td><h4>Total</h4></td>
                        <td class="text-center"><span id="product-list-length">0</span></td>
                        <td></td>
                        <td> <span id="qty-total">0</span></td>
                        <td> <span class="sgst-no-total">0.00</span></td>
                        <td><span class="cgst-no-total">0.00</span></td>
                        <td> <span id="total-amount">0.00</span></td>
                        <td> <span id="total-discount-amount">0.00</span></td>
                        <td> <span id="total-net-amount">0.00</span></td>
                        <!-- <td>Overall Total: <span id="overall-total">0.00</span></td> -->
                        <!-- HNS Code Total: <span id="hns-code-total">0.00</span> -->
                    </tr>
                </tfoot>
            </table>
        </div>
        <!-- Products Details Table-->
        <!-- Overall Details -->
        <div class="row mt-4 ms-5">
            <div class="col-sm-4">
                <div class="col-sm-12 d-flex flex-column align-items-left justify-content-center">
                    <div class="col mb-2">
                        <label for="">SGST :</label>
                        <span id="SGST"></span>
                    </div>
                    <div class="col mb-2">
                        <label for="">DisCount :</label>
                        <span id="discount"></span>
                    </div>
                    <div class="col mb-2">
                        <label for="">Amount :</label>
                        <input type="number" id="amount-input" oninput="calculateTotals()" style="border: 0;outline: 0;"/>
                        <!-- <span id="amount"></span> -->
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="col-sm-12 d-flex flex-column align-items-left justify-content-center">
                    <div class="col mb-2">
                        <label for="">CGST :</label>
                        <span id="Cgst"></span>
                    </div>
                    <div class="col mb-2">
                        <label for="">Balance :</label>
                        <span id="balance"></span>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="col-sm-12 d-flex flex-column align-items-left justify-content-center">
                    <div class="col mb-2">
                        <label for="">GST Amount :</label>
                        <span id="gstAmount"></span>
                    </div>
                    <div class="col mb-2">
                        <label for="">Discount Amount :</label>
                        <span id="DiscountAmount"></span>
                    </div>
                    <div class="col mb-2">
                        <label for="">Total Amount :</label>
                        <span id="total"></span>
                    </div>
                </div>
            </div>
        </div>
        <!-- Overall Details -->
        <!-- Pay Button -->
        <div class="col-sm-12">
            <div class="row mx-auto mt-5 mb-5">
                <button type="button" class="btn btn-primary" style="height: 3rem; font-size: 20px;">Pay Amount</button>
            </div>
        </div>
        <!-- Pay Button -->
    </div>
    <script src="{% static 'js/product/bill_manage.js'%}"></script>
    <script>
         const productInfo = {{ sales|safe }};
         console.log(productInfo)
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>